# 네트워크 레이어와 IP 프로토콜

## IP 주소

IP 주소는 컴퓨터와 장치들이 네트워크 상에서 고유하게 식별되는 주소입니다. 컴퓨터 간의 통신은 이 IP 주소를 기반으로 이루어집니다. IPv4와 IPv6 버전이 있으며, IPv4는 32비트 주소로 4개의 숫자로 표현되고, IPv6는 128비트 주소로 8개의 16진수 블록으로 표현됩니다.

**ex)** IPv4 주소는 192.168.0.1, IPv6 주소는 2001:0db8:85a3:0000:0000:8a2e:0370:7334

## IPv4 vs. IPv6

IPv4는 주소 부족 문제로 인해 주소 고갈 현상이 발생할 수 있지만, IPv6는 주소 공간을 크게 확장하여 주소 부족 문제를 해결합니다. 이로써 더 많은 장치가 고유한 주소를 갖게 되어 네트워크 확장성이 향상됩니다.

**ex)** IPv4의 주소 고갈로 인해 IPv6가 도입되었으며, IPv6는 긴 주소 형식으로 더 많은 주소를 지원하여 장래의 인터넷 환경을 대비합니다.

## 서브넷과 서브넷 마스크

서브넷은 IP 네트워크를 더 작은 부분으로 나누는 것을 말하며, 서브넷 마스크는 IP 주소의 네트워크 ID와 호스트 ID를 구분하는 데 사용됩니다. 서브넷을 사용하면 네트워크 관리와 IP 주소 할당이 더욱 효율적으로 이루어집니다.

**ex)** IP 주소 192.168.1.1과 서브넷 마스크 255.255.255.0으로 서브넷을 나누면 192.168.1.0 네트워크에 속하는 주소들을 사용할 수 있습니다.

## 라우팅

라우팅은 데이터 패킷의 출발지에서 목적지로 전달되는 경로를 결정하는 프로세스입니다. 라우터는 라우팅 테이블을 참고하여 가장 효율적인 경로를 선택하여 데이터를 전달합니다. 이를 통해 데이터는 여러 네트워크를 거쳐 목적지에 도달합니다.

**ex)** 라우터는 경로 정보를 기반으로 패킷을 다음 라우터로 전달하며, 이 과정을 반복하여 최종 목적지에 도달합니다.

## Public IP와 Private IP

Public IP는 인터넷에서 직접 접근 가능한 IP 주소입니다. 반면에 Private IP는 사설 네트워크 내에서 사용되며, 외부에서는 접근할 수 없습니다. Private IP 주소는 NAT(Network Address Translation)을 통해 공용 IP 주소와 연결하여 인터넷에 접속할 수 있게 됩니다.

**ex)** 공인 IP 주소로는 웹서버가 직접 접근받을 수 있고, 사내에서 사용되는 컴퓨터는 사설 IP 주소를 갖습니다.

## 라우팅 프로토콜

라우팅 프로토콜은 라우터 간에 경로 정보를 교환하여 데이터 패킷의 전달 경로를 결정합니다. 각 라우터는 자신이 가지고 있는 라우팅 테이블을 업데이트하고 다른 라우터와 정보를 교환함으로써 최적의 경로를 선택합니다.

**ex)** OSPF는 링크 상태 정보를 교환하여 네트워크의 변경사항에 따라 최적의 경로를 선택합니다.

## IP 할당 방법

IP 주소는 ICANN이라는 기관에서 관리됩니다. ISP(Internet Service Provider)와 조직은 ICANN으로부터 IP 주소 블록을 할당받아 자신의 네트워크에서 사용합니다.

**ex)** ISP는 ICANN으로부터 IP 주소 블록을 할당받아 고객들에게 IP 주소를 제공합니다.

## NAT (Network Address Translation)

NAT는 사설 네트워크의 IP 주소를 공용 IP 주소로 변환하여 여러 호스트가 하나의 공용 IP 주소로 인터넷에 접속할 수 있게 해줍니다. 이는 IP 주소 부족 문제를 해결하고 네트워크 보안도 향상시킵니다.

**ex)** 사내의 여러 컴퓨터들이 사설 IP 주소를 사용하면, NAT 장치가 이들 주소를 하나의 공용 IP 주소로 변환하여 외부와 통신하게 됩니다.

## ICMP

(Internet Control Message Protocol)

ICMP는 네트워크 장치 간에 제어 및 오류 메시지를 교환하는 프로토콜로, 라우터와 호스트 간의 상태 및 오류 정보 전달에 사용됩니다. 예를 들어, "Ping" 메시지는 ICMP 프로토콜을 이용하여 호스트의 응답 시간을 확인하는 데 사용됩니다.

**ex)** 네트워크 장애 시 ICMP 메시지를 통해 문제를 진단하고 대응할 수 있습니다.
